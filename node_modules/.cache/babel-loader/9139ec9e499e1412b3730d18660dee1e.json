{"ast":null,"code":"import _regeneratorRuntime from\"D:/React Project/NewsApp/news_cube/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/React Project/NewsApp/news_cube/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"D:/React Project/NewsApp/news_cube/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/React Project/NewsApp/news_cube/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/React Project/NewsApp/news_cube/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/React Project/NewsApp/news_cube/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import Loading from\"./Loading\";import NewsItem from\"./NewsItem\";// import PropTypes from 'prop-types'\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);// static propTypes = {\n//   prop: PropTypes\n// }\nfunction News(props){var _this;_classCallCheck(this,News);_this=_super.call(this,props);_this.NextKey=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,promise,parsedData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({pageNo:_this.state.pageNo+1,loading:true});_this.props.setProgress(25);url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=1fdd86d558504b8983e5906276fb8934&pageSize=20&page=\").concat(_this.state.pageNo);_this.props.setProgress(50);_context.next=6;return fetch(url);case 6:promise=_context.sent;_this.props.setProgress(75);_context.next=10;return promise.json();case 10:parsedData=_context.sent;_this.setState({article:parsedData.articles,loading:false});_this.props.setProgress(100);case 13:case\"end\":return _context.stop();}}},_callee);}));_this.PrevKey=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var url,promise,parsedData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({pageNo:_this.state.pageNo-1,loading:true});_this.props.setProgress(25);url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=1fdd86d558504b8983e5906276fb8934&pageSize=20&page=\").concat(_this.state.pageNo);_context2.next=5;return fetch(url);case 5:promise=_context2.sent;_this.props.setProgress(50);_context2.next=9;return promise.json();case 9:parsedData=_context2.sent;_this.props.setProgress(75);_this.setState({article:parsedData.articles,loading:false});_this.props.setProgress(100);case 13:case\"end\":return _context2.stop();}}},_callee2);}));console.log(\"News Constructor\");_this.state={article:[],loading:false,pageNo:1};document.title=\"NewsBuzz - \".concat(_this.props.heading===''?\"  Get daily update !!!\":_this.props.heading);return _this;}_createClass(News,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var url,promise,parsedData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:this.props.setProgress(25);url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=1fdd86d558504b8983e5906276fb8934&pageSize=20&page=\").concat(this.state.pageNo);_context3.next=4;return fetch(url);case 4:promise=_context3.sent;this.props.setProgress(50);_context3.next=8;return promise.json();case 8:parsedData=_context3.sent;this.props.setProgress(75);this.setState({article:parsedData.articles,totalResults:parsedData.totalResults,pageNo:this.state.pageNo+1});console.log(this.state.totalResults);this.props.setProgress(100);case 13:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"mt-80\",children:[\"Top \",this.props.heading===''?\" \":this.props.heading,\" Headlines...\"]}),this.state.loading&&/*#__PURE__*/_jsx(Loading,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:(this.state.article||[]).map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title!=null?element.title.slice(0,45):element.title,description:element.description!=null?element.description.slice(0,88):element.description,ImageUrl:element.urlToImage,url:element.url,author:element.author,source:element.source.name})},element.url);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",disabled:this.state.pageNo<=1,className:\"btn btn-dark\",onClick:this.PrevKey,children:\"\\u2190 Previous\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",disabled:this.state.pageNo>Math.ceil(this.state.totalResults/20),className:\"btn btn-dark\",onClick:this.NextKey,children:\"Next \\u2192 \"})]})]})});}}]);return News;}(Component);export{News as default};News.defaultProps={country:\"in\",category:\"general\",heading:\"\"};","map":{"version":3,"names":["React","Component","Loading","NewsItem","News","props","NextKey","setState","pageNo","state","loading","setProgress","url","country","category","fetch","promise","json","parsedData","article","articles","PrevKey","console","log","document","title","heading","totalResults","map","element","slice","description","urlToImage","author","source","name","Math","ceil","defaultProps"],"sources":["D:/React Project/NewsApp/news_cube/src/Components/News.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport Loading from \"./Loading\";\r\nimport NewsItem from \"./NewsItem\";\r\n// import PropTypes from 'prop-types'\r\n\r\n\r\n\r\nexport default class News extends Component {\r\n  // static propTypes = {\r\n  //   prop: PropTypes\r\n  // }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(\"News Constructor\");\r\n    this.state = {\r\n      article: [],\r\n      loading:false,\r\n      pageNo:1\r\n    };\r\n    document.title= `NewsBuzz - ${this.props.heading===''?\"  Get daily update !!!\":this.props.heading}`\r\n  }\r\n\r\nasync componentDidMount(){\r\n  this.props.setProgress(25);\r\n  let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=1fdd86d558504b8983e5906276fb8934&pageSize=20&page=${this.state.pageNo}`;\r\n  let promise = await fetch(url);\r\n  this.props.setProgress(50);\r\n  let parsedData = await promise.json();\r\n  this.props.setProgress(75);\r\n  this.setState({\r\n    article: parsedData.articles,\r\n    totalResults: parsedData.totalResults,\r\n    pageNo: this.state.pageNo+1\r\n  })\r\n  console.log(this.state.totalResults)\r\n  this.props.setProgress(100);\r\n}\r\n\r\nNextKey = async ()=>{\r\n\r\n  this.setState({\r\n    pageNo: this.state.pageNo+1,\r\n    loading:true\r\n  })\r\n  this.props.setProgress(25);\r\n  let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=1fdd86d558504b8983e5906276fb8934&pageSize=20&page=${this.state.pageNo}`;\r\n  this.props.setProgress(50);\r\n  let promise = await fetch(url);\r\n  this.props.setProgress(75);\r\n  let parsedData = await promise.json();\r\n  this.setState({\r\n    article: parsedData.articles,\r\n    loading:false\r\n  })\r\n  this.props.setProgress(100);\r\n}\r\n\r\nPrevKey= async ()=>{\r\n  this.setState({\r\n    pageNo: this.state.pageNo-1,\r\n    loading:true\r\n  })\r\n  this.props.setProgress(25);\r\n  let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=1fdd86d558504b8983e5906276fb8934&pageSize=20&page=${this.state.pageNo}`;\r\n  let promise = await fetch(url);\r\n  this.props.setProgress(50);\r\n  let parsedData = await promise.json();\r\n  this.props.setProgress(75);\r\n  this.setState({\r\n    article: parsedData.articles,\r\n    loading:false\r\n  })\r\n  this.props.setProgress(100);\r\n}\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"container my-3\">\r\n          <h2 className=\"mt-80\">Top {this.props.heading===''?` `:this.props.heading} Headlines...</h2>\r\n          {this.state.loading && <Loading/>}\r\n          <div className=\"row\">\r\n            {(this.state.article || []).map((element)=>{\r\n                return <div className=\"col-md-4\" key={element.url}>\r\n                          <NewsItem\r\n                            title={(element.title!=null)?element.title.slice(0, 45):element.title}\r\n                            description={(element.description!=null)?element.description.slice(0, 88):element.description}\r\n                            ImageUrl={element.urlToImage}\r\n                            url = {element.url}\r\n                            author = {element.author}\r\n                            source = {element.source.name}\r\n                          />\r\n                        </div>\r\n            })}\r\n\r\n          </div>\r\n          <div className=\"container d-flex justify-content-between\">\r\n            <button type=\"button\" disabled={this.state.pageNo<=1} className=\"btn btn-dark\" onClick={this.PrevKey}>&larr; Previous</button>\r\n            <button type=\"button\"  disabled={this.state.pageNo>Math.ceil(this.state.totalResults/20)} className=\"btn btn-dark\" onClick={this.NextKey}>Next &rarr; </button>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n  News.defaultProps={\r\n    country:\"in\",\r\n    category: \"general\",\r\n    heading: \"\"\r\n  }\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}